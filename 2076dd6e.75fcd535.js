(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{102:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(0),c=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var b=c.a.createContext({}),s=function(e){var t=c.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return c.a.createElement(b.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return c.a.createElement(c.a.Fragment,{},t)}},d=c.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,a=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),p=s(n),d=r,f=p["".concat(a,".").concat(d)]||p[d]||u[d]||o;return n?c.a.createElement(f,i(i({ref:t},b),{},{components:n})):c.a.createElement(f,i({ref:t},b))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,a[1]=i;for(var b=2;b<o;b++)a[b]=n[b];return c.a.createElement.apply(null,a)}return c.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},76:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return l})),n.d(t,"Highlight",(function(){return b})),n.d(t,"default",(function(){return p}));var r=n(3),c=n(7),o=(n(0),n(102)),a={id:"nginx1",title:"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 Certbot \u0e23\u0e48\u0e27\u0e21\u0e01\u0e31\u0e1a Nginx",sidebar_label:"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 Certbot \u0e23\u0e48\u0e27\u0e21\u0e01\u0e31\u0e1a Nginx",slug:"/"},i={unversionedId:"nginx1",id:"nginx1",isDocsHomePage:!1,title:"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 Certbot \u0e23\u0e48\u0e27\u0e21\u0e01\u0e31\u0e1a Nginx",description:"backgroundColor: color,",source:"@site/docs/nginx1.md",slug:"/",permalink:"/manuals/docs/",version:"current",sidebar_label:"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 Certbot \u0e23\u0e48\u0e27\u0e21\u0e01\u0e31\u0e1a Nginx",sidebar:"someSidebar",next:{title:"\u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 Reverse Proxy \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a vRealize Automation",permalink:"/manuals/docs/vcf-revproxy"}},l=[],b=function(e){var t=e.children,n=e.color;return Object(o.b)("span",{style:{backgroundColor:n,borderRadius:"2px",color:"#fff",padding:"0.2rem"}},t)},s={toc:l,Highlight:b};function p(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"\u0e43\u0e19\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e35\u0e49\u0e08\u0e30\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c\u0e0a\u0e37\u0e48\u0e2d ",Object(o.b)("a",{parentName:"p",href:"https://nc-cust-01.totidc.net"},"https://nc-cust-01.totidc.net")),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 Package nginx \u0e42\u0e14\u0e22\u0e43\u0e0a\u0e49\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"# apt -y install nginx\n")),Object(o.b)("ol",{start:2},Object(o.b)("li",{parentName:"ol"},"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e44\u0e1f\u0e25\u0e4c ")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"# vi /etc/nginx/sites-available/nc-cust-01.totidc.net\n")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"server {\n    listen 80;\n    listen [::]:80;\n    server_name nc-cust-01.totidc.net;\n    root /var/www/nc-cust-01.totidc.net;\n    index index.html;\n    location / {\n        try_files $uri $uri/ = 404;\n    }\n}\n")),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},"\u0e17\u0e4d\u0e32 Symbolic  Link\u0e44\u0e1b\u0e17\u0e35\u0e48 /etc/nginx/site-enabled \u0e42\u0e14\u0e22\u0e43\u0e0a\u0e49\u0e04\u0e4d\u0e32\u0e2a\u0e31\u0e48\u0e07")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"# ln -s /etc/nginx/sites-available/nc-cust-01.totidc.net /etc/nginx/sites-enabled\n")),Object(o.b)("ol",{start:4},Object(o.b)("li",{parentName:"ol"},"\u0e43\u0e0a\u0e49\u0e04\u0e4d\u0e32\u0e2a\u0e31\u0e48\u0e07 nginx -t \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e17\u0e14\u0e2a\u0e2d\u0e1a\u0e27\u0e48\u0e32\u0e04\u0e2d\u0e19\u0e1f\u0e34\u0e04\u0e44\u0e14\u0e49\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"# nginx -t\nnginx: the configuration file /etc/nginx/nginx.conf syntax is ok\nnginx: configuration file /etc/nginx/nginx.conf test is successful\n")),Object(o.b)("ol",{start:5},Object(o.b)("li",{parentName:"ol"},"\u0e17\u0e4d\u0e32\u0e01\u0e32\u0e23 Restart nginx service \u0e42\u0e14\u0e22\u0e43\u0e0a\u0e49\u0e04\u0e4d\u0e32\u0e2a\u0e31\u0e48\u0e07")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"# systemctl restart nginx\n")),Object(o.b)("ol",{start:6},Object(o.b)("li",{parentName:"ol"},"\u0e40\u0e1b\u0e34\u0e14 Web browser \u0e41\u0e25\u0e49\u0e27\u0e44\u0e1b\u0e17\u0e35\u0e48 ",Object(o.b)("a",{parentName:"li",href:"http://nc-cust-01.totidc.net"},"http://nc-cust-01.totidc.net")," \u0e2b\u0e19\u0e49\u0e32\u0e40\u0e1e\u0e08\u0e04\u0e27\u0e23\u0e08\u0e30\u0e02\u0e36\u0e49\u0e19\u0e27\u0e48\u0e32 ",Object(o.b)(b,{color:"#25c2a0",mdxType:"Highlight"},"404 Not Found")),Object(o.b)("li",{parentName:"ol"},"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 Certbot Package \u0e42\u0e14\u0e22\u0e43\u0e0a\u0e49\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"# apt -y install certbot python3-certbot-nginx\n")),Object(o.b)("ol",{start:8},Object(o.b)("li",{parentName:"ol"},"\u0e17\u0e4d\u0e32\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 SSL Certificate \u0e02\u0e2d\u0e07 Let\u2019s Encrypt \u0e42\u0e14\u0e22\u0e43\u0e0a\u0e49\u0e04\u0e4d\u0e32\u0e2a\u0e31\u0e48\u0e07")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"# certbot \u2013nginx\nSaving debug log to /var/log/letsencrypt/letsencrypt.log\nPlugins selected: Authenticator nginx, Installer nginx\nWhich names would you like to activate HTTPS for?\n----------------------------------------\n1: eec-smartcity.totidc.net\n2: nc-cust-01.totidc.net\n3: nextcloud.totidc.net\n----------------------------------------\nSelect the appropriate numbers separated by commas and/or spaces, or leave inputblank to select all options shown (Enter 'c' to cancel): 2\n")),Object(o.b)("ol",{start:9},Object(o.b)("li",{parentName:"ol"},"\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e16\u0e32\u0e21\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23 Redirect \u0e44\u0e1b HTTPS \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48\u0e43\u0e2b\u0e49\u0e40\u0e25\u0e37\u0e2d\u0e01 2")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.\n----------------------------------------\n1: No redirect -Make no further changes to the webserver configuration.\n2: Redirect -Make all requests redirect to secure HTTPS access. Choose this fornew sites, or if you're confident your site works on HTTPS. You can undo thischange by editing your web server's configuration.\n----------------------------------------\nSelect the appropriate number [1-2] then [enter] (press 'c' to cancel): 2\n")),Object(o.b)("ol",{start:10},Object(o.b)("li",{parentName:"ol"},"\u0e17\u0e14\u0e25\u0e2d\u0e07\u0e40\u0e02\u0e49\u0e32\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c ",Object(o.b)("a",{parentName:"li",href:"http://nc-cust-02.totidc.net"},"http://nc-cust-02.totidc.net")," \u0e23\u0e30\u0e1a\u0e1a\u0e08\u0e30 redirect \u0e44\u0e1b\u0e17\u0e35\u0e48 ",Object(o.b)("a",{parentName:"li",href:"https://ns-cust-02.totidc.net"},"https://ns-cust-02.totidc.net"))))}p.isMDXComponent=!0}}]);